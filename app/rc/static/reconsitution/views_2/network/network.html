<link ng-href="//static_url('stylesheets/host_network.css')//" rel="stylesheet"/>

<div class="container-fluid page-content"  type="out_container">
    <!--
    <div class="row">
        <div class="col-md-12">
            <div id="breadcrumb" class="col-md-12">
                <ol class="breadcrumb">
                    <li>网络资源</li>
                    <li class="active">网络</li>
                </ol>
            </div>
        </div>
    </div>
    -->
    <div id="page-container" class="row">
        <div  class="col-md-12">
            <div class="row">
                <div class="col-md-7">
                    <div id="toolbar_container">
                        <div class="btn-group" role="group">
                            <button class="btn btn-padding btn-status-blueLake"  name="refresh_network" id="refresh_network"><span class="glyphicon glyphicon-refresh"></span> 刷新</button>
                            <button name="add_network" id="add_network" class="btn btn-padding btn-status-blueLake" data-toggle="modal" data-target="#create_network_modal"><span class="glyphicon glyphicon-plus-sign"></span> 添加</button>
                            <button name="edit_network" id="edit_network" class="table_button" data-toggle="modal" data-target="#edit_network_modal"><span class="glyphicon glyphicon-edit"></span> 编辑</button>
                            <button name="delete_network" id="delete_network" class="table_button" data-toggle="modal" data-target="#delete_network_modal"><span class="glyphicon glyphicon-trash"></span> 删除</button>
                        </div>
                        <div class="search_div">
                            <input type="text" id="search_network_input" placeholder="搜索" class="table_search_input"/>
                            <img id="search_network_img" class="table_search_img" ng-src="//static_url('images/table_operate_button/search.png')//">
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="table-responsive table_container">
                        <table class="table" id="network_table">
                            <thead>
                                <tr>
                                    <th class="thead_checkbox" >
                                    <th class="tds">名称</th>
                                    <th class="tds">IP段</th>
                                    <th class="tds">IP版本</th>
                                    <th class="tds">网关IP</th>
                                    <th class="tds">外部网络</th>
                                    <th class="tds">状态</th>
                                </tr>
                            </thead>
                            <tbody id="network_tbody">
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="pagination_div">
                        <div id="network_pagination" class="pagination"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="header">

        <div class="operation_2 animate-block">
            <div id="server_details">
                <div class="tabbable title_container">
                    <button aria-hidden="true" class="close-left" type="button" id="btn_close_detail">
                        ×
                    </button>
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#telemetry" data-toggle="tab">详细信息</a></li>
                    </ul>
                </div>
                <div class="tab-content">
                    <div class="tab-pane fade in active" id="telemetry">
                        <div class="network_detail">
                            <!--
                            <dl>
                                <dt>网络名称：<span name="network_name"></span></dt>
                                <dt>状态：<span name="status"></span></dt>
                                <dt>管理员状态：<span name="admin_state_up"></span></dt>
                                <dt>共享的：<span name="shared"></span></dt>
                                <dt>外部网络：<span name="external"></span></dt>
                                <dt>网络类型：<span name="network_type"></span></dt>
                                <dt>IP版本：<span name="ip_version"></span></dt>
                                <dt>网段：<span name="cidr"></span></dt>
                                <dt>IP池：<span name="allocation_pools"></span></dt>
                                <dt>网关IP：<span name="gateway_ip"></span></dt>
                                <dt>使用DHCP：<span name="enable_dhcp"></span></dt>
                                <dt>附加路由：<span name="host_routes"></span></dt>
                                <dt>DNS域名服务器：<span name="dns_nameservers"></span></dt>
                                <dt>描述：<span name="description"></span></dt>
                            </dl>
                            -->
                            <table class="showTable">
                                <tr><th>网络名称</th><td name="network_name"></td></tr>
                                <tr><th>状态</th><td name="status"></td></tr>
                                <tr><th>管理员状态</th><td name="admin_state_up"></td></tr>
                                <tr><th>共享的</th><td name="shared"></td></tr>
                                <tr><th>外部网络</th><td name="external"></td></tr>
                                <tr><th>网络类型</th><td name="network_type"></td></tr>
                                <tr class="td_physical_network"><th>物理网络</th><td name="physical_network"></td></tr>
                                <tr class="td_segmentation_id"><th>网段id</th><td name="segmentation_id"></td></tr>
                                <tr><th>IP版本</th><td name="ip_version"></td></tr>
                                <tr><th>网段</th><td name="cidr"></td></tr>
                                <tr><th>IP池</th><td name="allocation_pools"></td></tr>
                                <tr><th>网关IP</th><td name="gateway_ip"></td></tr>
                                <tr><th>使用DHCP</th><td name="enable_dhcp"></td></tr>
                                <tr><th>附加路由</th><td name="host_routes"></td></tr>
                                <tr><th>DNS域名服务器</th><td name="dns_nameservers"></td></tr>
                                <tr><th>Qos名称</th><td name="qos_name"></td></tr>
                                <tr><th>描述</th><td name="description"></td></tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!--
        <div class="operation_1">
            <fieldset class="operation_c_1">
                <legend class="operation_d">网络描述</legend>
            </fieldset>

            <div class="operation_d_1">
             <span name="description"></span>
            </div>
        </div>-->
</div>

<!--create network modal-->
<div id="create_network_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="create_network_modalLabel" aria-hidden="true">
    <div class="modal-dialog" style="margin:50px auto">
        <div class="modal-content">
            <div class="modal-header modal_header_style">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                <p class="font_family modal-title modal_title_style"><span class="glyphicon glyphicon-plus-sign"></span> 添加网络</p>
            </div>
            <div class="modal-body network_form">
                <form id="create_network_form">
                    <div class="network_form_left Mirror_list_div conf_style">
                        <div class="control-group">
                            <label class="control-label"><span class="red">*</span>网络名称:</label>
                            <div class="controls">
                                <input type="text" name="network_name" id="network_name"
                                       required maxlength="20" minlength="3"
                                       class="input-xlarge machine-name" placeholder="长度3-20字符">
                                <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"><span class="red">*</span>网络地址段:</label>
                            <div id="cidr-setting" class="controls">
                                <input required type="number" id="cidr1" class="machine-name ip_input" max="255" min="0"/>.
                                <input required type="number" id="cidr2" class="machine-name ip_input" max="255" min="0"/>.
                                <input required type="number" id="cidr3" class="machine-name ip_input" max="255" min="0"/>.
                                <input required type="number" id="cidr4" class="machine-name ip_input" max="255" min="0"/>/
                                <input required type="number" id="cidr5" class="machine-name ip_input" max="32" min="0"/>
                                <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="control-group hide">
                            <label class="control-label"><span class="red">*</span>网络地址段:</label>
                            <div class="controls">
                                <input type="text" name="cidr" id ="cidr" class="input-xlarge machine-name"
                                       required data-validation-regex-regex="((?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))/(?:3[0-2]|[1-2]\d|\d))" data-validation-regex-message="不符合ip格式"
                                       placeholder="形如：192.168.1.0/24">
                                <span class="help-block"></span>
                            </div>
                        </div>

                        <div ng-if="user.role=='super_admin'">
                            <div class="control-group">
                                <label class="control-label"><span class="red">*</span>外部网络:</label>
                                <div class="controls">
                                    <label>
                                        <input  type="checkbox" name="external" class="create_external" id="external"/>
                                    </label>

                                    <!--
                                    <label>
                                        <input type="radio" name="external" class="create_extenal" id="external" value="True">
                                        外部网络
                                    </label>
                                    <label>
                                        <input type="radio" name="external" class="create_extenal" id="" value="False" checked="checked">
                                        内部网络
                                    </label>
                                    -->
                                </div>
                            </div>
                        </div>

                        <div class="control-group textarea-group">
                            <label class="control-label">描述:</label>
                            <div class="controls">
                                <textarea maxlength="100" name="description" id="description" class="machine-name" cols ="20" rows = "7" placeholder="长度0-100字符"></textarea>
                                <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"></label>
                            <div class="controls">
                                <a class="more-toggle" href="#" onclick="$('#create_more_slider').slideToggle();">更多选项</a>
                            </div>
                        </div>
                        <div id="create_more_slider" style="display:none;">
                            <div class="control-group">
                                <label class="control-label"><span class="red">&nbsp;</span>网关IP:</label>
                                <div class="controls">
                                    <input type="text" name="gateway_ip" id ="gateway_ip" class="input-xlarge machine-name"
                                            data-validation-regex-regex="((?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))))" data-validation-regex-message="不符合ip格式"
                                           placeholder="--请输入网关IP--">
                                    <span class="help-block"></span>
                                </div>
                            </div>

                            <div ng-if="user.role=='super_admin'">
                                <div class="control-group">
                                    <label class="control-label">共享:</label>
                                    <div class="controls">
                                        <label>
                                            <input type="checkbox" name="shared" id="shared"/>
                                        </label>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label">网络类型:</label>
                                    <div class="controls">
                                        <select id="create_network_network_type" name="network_type" class="input-xlarge machine-name">
                                            <option value="">默认</option>
                                            <option value="local">local</option>
                                            <option value="flat">flat</option>
                                            <option value="vlan">vlan</option>
                                            <option value="gre">gre</option>
                                            <option value="vxlan">vxlan</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="control-group show_physical_network">
                                    <label class="control-label">物理网络:</label>
                                    <div class="controls">
                                        <input type="text" name="physical_network" class="input-xlarge machine-name">
                                    </div>
                                </div>

                                <div class="control-group show_segmentation_id">
                                    <label class="control-label">段ID:</label>
                                    <div class="controls">
                                        <input type="text" name="segmentation_id" class="input-xlarge machine-name">
                                    </div>
                                </div>
                            </div>

                            <div class="control-group">
                                <label class="control-label">DHCP:</label>
                                <div class="controls">
                                    <label>
                                        <input type="checkbox" name="enable_dhcp" id="enable_dhcp" checked="checked"/>
                                    </label>
                                </div>
                            </div>
                            <div class="control-group textarea-group hide">
                                <label class="control-label">地址池:</label>
                                <div class="controls">
                                    <textarea name="allocation_pools" id="allocation_pools" class="machine-name" cols ="20" rows = "7"></textarea>
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <div class="control-group textarea-group">
                                <label class="control-label">地址池:</label>
                                <div class="controls">
                                    <ul class="pool-list">
                                    </ul>

                                    <div id="pool-edit">
                                        从<input required type="number" id="pool1" class="machine-name ip_input nc" max="255" min="0"/>.
                                        <input required type="number" id="pool2" class="machine-name ip_input nc" max="255" min="0"/>.
                                        <input required type="number" id="pool3" class="machine-name ip_input nc" max="255" min="0"/>.
                                        <input required type="number" id="pool4" class="machine-name ip_input nc" max="255" min="0"/>-
                                        <br/>
                                        到<input required type="number" id="pool5" class="machine-name ip_input nc" max="255" min="0"/>.
                                        <input required type="number" id="pool6" class="machine-name ip_input nc" max="255" min="0"/>.
                                        <input required type="number" id="pool7" class="machine-name ip_input nc" max="255" min="0"/>.
                                        <input required type="number" id="pool8" class="machine-name ip_input nc" max="255" min="0"/>
                                        <a type="button" id="btn_add_pool" class="btn btn-primary btn-large">新增</a>
                                    </div>
                                </div>
                            </div>
                            <div class="control-group textarea-group">
                                <label class="control-label">DNS解析:</label>
                                <div class="controls">
                                    <textarea  name="dns_nameservers" id="dns_nameservers" class="machine-name" cols ="20" rows = "7"></textarea>
                                    <span class="help-block"></span>
                                </div>
                            </div>
{#                            <div class="control-group">#}
{#                                <label class="control-label">Qos Policy:</label>#}
{#                                <div class="controls">#}
{#                                    <select  name="qos_policy_id" id="qos_policy_id" class="machine-name" ></select>#}
{#                                </div>#}
{#                            </div>#}
                        </div>





                        <!--
                        <div>
                            <span>
                                <label for="ip_version">I&nbsp;&nbsp;P&nbsp;&nbsp;版&nbsp;本&nbsp;&nbsp;:</label>
                                <select class="selectpicker" name="ip_version" id="ip_version">
                                    <option value="4">IPv4</option>
                                    <option value="6">IPv6</option>
                                </select>
                            </span>
                            <span>
                                <label for="admin_state_up">管理员状态:</label>
                                <select class="selectpicker" name="admin_state_up" id="admin_state_up">
                                    <option value="True">UP</option>
                                    <option value="False">DOWN</option>
                                </select>
                            </span>
                        </div>
                        <div class="checkbox_f">
                            <div>
                                <span>

                                    <label for="shared">共享的</label>
                                </span>
                                <span>

                                    <label for="external">外部网络</label>
                                </span>
                            </div>
                            <div>
                                <span>
                                    <input type="checkbox" name="disabled_gateway" id="disabled_gateway">
                                    <label for="disabled_gateway">禁用网关</label>
                                </span>
                                <span>

                                    <label for="enable_dhcp">激活DHCP</label>
                                </span>
                            </div>
                        </div>
                        <div class="to_configure">
                            <label for="description">描述:</label>
                        </div>
                        <div class="describe_style">
                            <div class="operation_d_2">

                            </div>
                        </div>
                        <div class="right_s">
                            <div class="configure_style">
                                <div class="network_form_right">
                                    <label  for="allocation_pools">地址池: </label>
                                </div>
                                <div class="describe_style_1">
                                    <div class="operation_d_2">

                                    </div>
                                </div>
                            </div>
                            <div class="configure_style">
                                <div class="configure_1">
                                    <label for="dns_nameservers">DNS域名解析: </label>
                                </div>
                                <div class="describe_style_1">
                                    <div class="operation_d_2">

                                    </div>
                                </div>
                            </div>
                            <div class="configure_style">
                                <div class="configure_1">
                                        <label for="host_routes">附加路由:</label>
                                </div>
                                <div class="describe_style_1">
                                    <div class="operation_d_2">
                                        <textarea  name="host_routes" id="host_routes" class="input-xlarge operation_e_2" cols ="20" rows = "7"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>

                        -->
                    </div>
                </form>
            </div>
            <div class="modal-footer modal_footer_edit_style">
                <button class="table_button btn_default_style form_general_button" id="submit_create_network"><span class="glyphicon glyphicon-ok"></span> 添加</button>
                <button class="table_button cancel_button" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove"></span> 取消</button>
            </div>
        </div>
    </div>
</div>
<!--edit network modal-->
<div id="edit_network_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="edit_network_modalLabel" aria-hidden="true">
    <div class="modal-dialog" style="margin:80px auto">
        <div class="modal-content">
            <div class="modal-header modal_header_style">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                <h4 class="modal-title modal_title_style"><span class="glyphicon glyphicon-edit"></span> 编辑网络</h4>
            </div>
            <div class="modal-body">
                <form id="edit_network_form">
                    <div class="Mirror_list_div conf_style">
                        <div class="control-group">
                            <label class="control-label"><span class="red">*</span>网络名称:</label>
                            <div class="controls">
                                <input type="text" name="network_name" id="edit_network_name" class="input-xlarge machine-name"
                                       required maxlength="20" minlength="3"
                                       placeholder="长度3-20字符">
                                <span class="help-block"></span>
                            </div>
                        </div>

                        <div ng-if="user.role=='super_admin'">
                            <div class="control-group">
                                <label class="control-label"><span class="red">*</span>外部网络</label>
                                <div class="controls">
                                    <label>
                                        <input type="checkbox" name="external" id="edit_external">
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="control-group textarea-group">
                            <label class="control-label">描述</label>
                            <div class="controls">
                                <textarea maxlength="100" class="machine-name" name="description" cols ="20" rows = "7" id="edit_description" placeholder="长度0-100字符"></textarea>
                                <span class="help-block"></span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label"></label>
                            <div class="controls">
                                <a class="more-toggle" href="#" onclick="$('#edit_more_slider').slideToggle();">更多选项</a>
                            </div>
                        </div>
                        <div id="edit_more_slider" style="display:none;">
                            <div class="control-group">
                                <label class="control-label">网关ip:</label>
                                <div class="controls">
                                    <input type="text" name="gateway_ip" id ="edit_gateway_ip" class="machine-name"
                                            data-validation-regex-regex="((?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))))" data-validation-regex-message="不符合ip格式"
                                           placeholder="--请输入网关IP--">
                                    <span class="help-block"></span>
                                </div>
                            </div>

                            <div ng-if="user.role=='super_admin'">
                                <div class="control-group">
                                    <label class="control-label">共享:</label>
                                    <div class="controls">
                                        <label>
                                            <input type="checkbox" name="shared" id="edit_shared"/>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="control-group">
                                <label class="control-label">DHCP:</label>
                                <div class="controls">
                                    <label>
                                        <input type="checkbox" name="enable_dhcp" id="edit_enable_dhcp" checked="checked"/>
                                    </label>
                                </div>
                            </div>
                            <div class="control-group textarea-group">
                                <label class="control-label">DNS解析:</label>
                                <div class="controls">
                                    <textarea  name="dns_nameservers" id="edit_dns_nameservers" class="machine-name" cols ="20" rows = "7"></textarea>
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label">Qos Policy:</label>
                                <div class="controls">
                                    <select  name="qos_policy_id" id="update_qos_policy_id" class="machine-name" ></select>
                                </div>
                            </div>



                        </div>




                        <!--

                        <div>
                            <span>
                                <label for="edit_admin_state_up">管理员状态:</label>
                                <select class="selectpicker form-select" name="admin_state_up" id="edit_admin_state_up">
                                    <option value="True">UP</option>
                                    <option value="False">DOWN</option>
                                </select>
                            </span>
                        </div>
                        <span>
                            <input type="checkbox" name="disabled_gateway" id="edit_disabled_gateway">
                            <label for="edit_disabled_gateway">禁用网关</label>
                        </span>


                        <div class="right_s_s">
                            <div class="configure_style_s">
                                <div class="configure_1"><label for="edit_dns_nameservers">DNS域名解析: </label>
                                </div>
                                <div class="describe_style_1">
                                    <div class="operation_d_2">
                                        <textarea class="operation_e_2" name="dns_nameservers" cols ="20" rows = "7" id="edit_dns_nameservers"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="configure_style_s">
                                <div class="configure_1"><label for="edit_host_routes">主机路由: </label></div>
                                <div class="describe_style_1">
                                    <div class="operation_d_2">
                                        <textarea class="operation_e_2" name="host_routes" cols ="20" rows = "7" id="edit_host_routes"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>

                        -->


                    </div>
                    <!--
                    <label for="edit_network_name">网络名称:</label>
                    <input type="text" name="network_name" id="edit_network_name" class="input-xlarge"><br>
                    <label for="edit_gateway_ip">网关IP:</label>
                    <input type="text" name="gateway_ip" id ="edit_gateway_ip" class="input-xlarge"><br>
                    <label for="edit_admin_state_up">管理员状态:</label>
                    <select class="selectpicker" name="admin_state_up" id="edit_admin_state_up">
                        <option value="True">UP</option>
                        <option value="False">DOWN</option>
                    </select><br>
                    <input type="checkbox" name="shared" id="edit_shared">
                    <label for="edit_shared">共享的</label>
                    <input type="checkbox" name="external" id="edit_external">
                    <label for="edit_external">外部网络</label><br>
                    <input type="checkbox" name="disabled_gateway" id="edit_disabled_gateway">
                    <label for="edit_disabled_gateway">禁用网关</label>
                    <input type="checkbox" name="enable_dhcp" id="edit_enable_dhcp">
                    <label for="edit_enable_dhcp">激活DHCP</label><br>
                    <label for="description">描述:</label><br>
                    <textarea  name="description" id="edit_description" class="input-xlarge"></textarea><br>
                    <label for="edit_dns_nameservers">DNS域名解析:</label><br>
                    <textarea  name="dns_nameservers" id="edit_dns_nameservers" class="input-xlarge"></textarea><br>
                    <label for="edit_host_routes">附加路由:</label><br>
                    <textarea  name="host_routes" id="edit_host_routes" class="input-xlarge"></textarea><br>-->
                </form>
            </div>
            <div class="modal-footer modal_footer_edit_style">
                <button class="table_button btn_default_style form_general_button" id="submit_edit_network"><span class="glyphicon glyphicon-ok"></span> 更新</button>
                <button class="table_button cancel_button" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove"></span> 取消</button>
            </div>
        </div>
    </div>
</div>
<!--delete network modal-->
<div id="delete_network_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="delete_network_modalLabel" aria-hidden="true">
    <div class="modal-dialog modal_delete_dialog" style="margin:230px auto">
        <div class="modal-content">
            <div class="modal-header modal_danger_header_style">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                <h4 class="modal-title modal_title_style"><span class="glyphicon glyphicon-trash"></span> 删除</h4>
            </div>
            <div class="modal-body">
                <p class="font_family">确定要删除该网络？</p>
            </div>
            <div class="modal-footer modal_footer_edit_style">
                <button class="table_button btn_default_style form_danger_button" id="submit_delete_network"><span class="glyphicon glyphicon-trash"></span> 删除</button>
                <button class="table_button cancel_button" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove"></span> 取消</button>
            </div>
        </div>
    </div>
</div>

<script ng-src="//static_url('plugin/bootstrap/js/jqBootstrapValidation.js')//" type="text/javascript"></script>
